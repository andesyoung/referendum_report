(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(n,t,e){n.exports=e(35)},24:function(n,t,e){},35:function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(10),i=e.n(o),c=(e(24),e(9)),l=e.n(c),u=e(11),s=e(4),p=e(5),f=e(7),d=e(6),m=e(8),v=e(1),h=e(2),b=e(3),g=e.n(b);function k(){var n=Object(v.a)(["\n  background: transparent;\n  border: none;\n  padding: 0;\n  font-size: 1em;\n  text-align: left;\n  cursor: pointer;\n  margin: 0 2px;\n  outline: none !important;\n  color: #202020;\n  text-decoration: underline;\n"]);return k=function(){return n},n}function E(){var n=Object(v.a)(["\n  width: 100%;\n  background: #F4F4F4;\n  border: 1px solid #939393;\n  padding: 10px;\n  font-size: 1em;\n  text-align: left;\n  cursor: pointer;\n  margin: 2px 0;\n  outline: none !important;\n  color: #202020;\n\n  &:hover {\n    background-color: #939393;\n    color: #F4F4F4;\n  }\n"]);return E=function(){return n},n}function x(){var n=Object(v.a)(['\n  font-size: 1em;\n  position: relative;\n  padding-left: 15px;\n  color: #202020;\n  margin-bottom: 5px;\n\n  &:before {\n    content: "";\n    background: #000;\n    display: block;\n    width: 8px;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n']);return x=function(){return n},n}var y=g.a._,j=h.a.div(x()),w=h.a.button(E()),O=h.a.button(k()),C=["\u7b2c7\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\u4ee5\u300c\u5e73\u5747\u6bcf\u5e74\u81f3\u5c11\u964d\u4f4e1%\u300d\u4e4b\u65b9\u5f0f\u9010\u5e74\u964d\u4f4e\u706b\u529b\u767c\u96fb\u5ee0\u767c\u96fb\u91cf\uff1f","\u7b2c8\u6848\uff1a\u60a8\u662f\u5426\u540c\u610f\u78ba\u7acb\u300c\u505c\u6b62\u65b0\u5efa\u3001\u64f4\u5efa\u4efb\u4f55\u71c3\u7164\u767c\u96fb\u5ee0\u6216\u767c\u96fb\u6a5f\u7d44\uff08\u5305\u62ec\u6df1\u6fb3\u96fb\u5ee0\u64f4\u5efa\uff09\u300d\u4e4b\u80fd\u6e90\u653f\u7b56\uff1f","\u7b2c9\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\u653f\u5e9c\u7dad\u6301\u7981\u6b62\u958b\u653e\u65e5\u672c\u798f\u5cf6311\u6838\u707d\u76f8\u95dc\u5730\u5340\uff0c\u5305\u62ec\u798f\u5cf6\u8207\u5468\u906d4\u7e23\u5e02\uff08\u8328\u57ce\u3001\u6aea\u6728\u3001\u7fa4\u99ac\u3001\u5343\u8449\uff09\u7b49\u5730\u5340\u8fb2\u7522\u54c1\u53ca\u98df\u54c1\u9032\u53e3\uff1f","\u7b2c10\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\u6c11\u6cd5\u5a5a\u59fb\u898f\u5b9a\u61c9\u9650\u5b9a\u5728\u4e00\u7537\u4e00\u5973\u7684\u7d50\u5408?","\u7b2c11\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\u5728\u570b\u6c11\u6559\u80b2\u968e\u6bb5\u5167\uff08\u570b\u4e2d\u53ca\u570b\u5c0f\uff09\uff0c\u6559\u80b2\u90e8\u53ca\u5404\u7d1a\u5b78\u6821\u4e0d\u61c9\u5c0d\u5b78\u751f\u5be6\u65bd\u6027\u5225\u5e73\u7b49\u6559\u80b2\u6cd5\u65bd\u884c\u7d30\u5247\u6240\u5b9a\u4e4b\u540c\u5fd7\u6559\u80b2\uff1f","\u7b2c12\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\u4ee5\u6c11\u6cd5\u5a5a\u59fb\u898f\u5b9a\u4ee5\u5916\u4e4b\u5176\u4ed6\u5f62\u5f0f\u4f86\u4fdd\u969c\u540c\u6027\u5225\u4e8c\u4eba\u7d93\u71df\u6c38\u4e45\u5171\u540c\u751f\u6d3b\u7684\u6b0a\u76ca\uff1f","\u7b2c13\u6848\uff1a\u4f60\u662f\u5426\u540c\u610f\uff0c\u4ee5\u300c\u53f0\u7063\u300d\uff08Taiwan\uff09\u70ba\u5168\u540d\u7533\u8acb\u53c3\u52a0\u6240\u6709\u570b\u969b\u904b\u52d5\u8cfd\u4e8b\u53ca2020\u5e74\u6771\u4eac\u5967\u904b\uff1f","\u7b2c14\u6848\uff1a\u60a8\u662f\u5426\u540c\u610f\uff0c\u4ee5\u6c11\u6cd5\u5a5a\u59fb\u7ae0\u4fdd\u969c\u540c\u6027\u5225\u4e8c\u4eba\u5efa\u7acb\u5a5a\u59fb\u95dc\u4fc2\uff1f","\u7b2c15\u6848\uff1a\u60a8\u662f\u5426\u540c\u610f\uff0c\u4ee5\u300c\u6027\u5225\u5e73\u7b49\u6559\u80b2\u6cd5\u300d\u660e\u5b9a\u5728\u570b\u6c11\u6559\u80b2\u5404\u968e\u6bb5\u5167\u5be6\u65bd\u6027\u5225\u5e73\u7b49\u6559\u80b2\uff0c\u4e14\u5167\u5bb9\u61c9\u6db5\u84cb\u60c5\u611f\u6559\u80b2\u3001\u6027\u6559\u80b2\u3001\u540c\u5fd7\u6559\u80b2\u7b49\u8ab2\u7a0b\uff1f","\u7b2c16\u6848\uff1a\u60a8\u662f\u5426\u540c\u610f\uff1a\u5ee2\u9664\u96fb\u696d\u6cd5\u7b2c95\u689d\u7b2c1\u9805\uff0c\u5373\u5ee2\u9664\u300c\u6838\u80fd\u767c\u96fb\u8a2d\u5099\u61c9\u65bc\u4e2d\u83ef\u6c11\u570b\u4e00\u767e\u5341\u56db\u5e74\u4ee5\u524d\uff0c\u5168\u90e8\u505c\u6b62\u904b\u8f49\u300d\u4e4b\u689d\u6587\uff1f"],F=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(f.a)(this,(n=Object(d.a)(t)).call.apply(n,[this].concat(r)))).state={},e.onClick=function(n){return e.props.onClick(C[n],n)},e}return Object(m.a)(t,n),Object(p.a)(t,[{key:"render",value:function(){var n=this,t=this.props.title;return t?r.a.createElement("div",null,r.a.createElement(j,null,t,r.a.createElement(O,{onClick:function(){return n.onClick(-1)}},"\u66f4\u63db\u516c\u6295\u6848"))):r.a.createElement("div",null,r.a.createElement(j,null,"\u6b65\u9a5f\u4e00\uff1a\u8acb\u9078\u64c7\u60f3\u8981\u4e86\u89e3\u7684\u516c\u6295\u6848"),r.a.createElement("div",null,y.map(C,function(t,e){return r.a.createElement(w,{key:"t".concat(e),onClick:function(){return n.onClick(e)}},t)})))}}]),t}(r.a.Component);function R(){var n=Object(v.a)(["\n"]);return R=function(){return n},n}function z(){var n=Object(v.a)(["\n  width: 240px;\n"]);return z=function(){return n},n}function N(){var n=Object(v.a)(["\n  display: flex;\n  margin-bttom: 20px;\n  justify-content: space-around;\n"]);return N=function(){return n},n}function S(){var n=Object(v.a)(["\n  display: flex;\n\n  & button {\n    background: transparent;\n    padding: 2px 10px;\n    margin: 0px 2px;\n    outline: none !important;\n    cursor: pointer;\n  }\n"]);return S=function(){return n},n}function A(){var n=Object(v.a)(['\n  font-size: 1em;\n  position: relative;\n  padding-left: 15px;\n  color: #202020;\n  margin-bottom: 5px;\n\n  &:before {\n    content: "";\n    background: #000;\n    display: block;\n    width: 8px;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n']);return A=function(){return n},n}F.defaultProps={title:null,onClick:y.identity};var B=g.a._,D=g.a.d3,M=h.a.div(A()),P=h.a.div(S()),T=h.a.div(N()),W=h.a.div(z()),L=h.a.div(R()),Y=function(n,t){var e=g.a.map,a=D.select("#map").node().getContext("2d"),r=D.geoMercator().center([121,23,5]).scale(8e3).translate([500,400]),o=D.geoPath().projection(r).context(a),i=B.mapValues(B.mapKeys(n,"key"),"value");e.features.forEach(function(n,e){var r=n.properties,c=r.COUNTYNAME,l=r.TOWNNAME;a.fillStyle=t(i["".concat(c).concat(l)]||0),a.beginPath(),o(n),a.fill()})},_=function(n,t){return B.sortBy(B.map(B.filter(n,"\u5730\u5340"),function(n){return{key:"".concat(n["\u7e23\u5e02"]).concat(n["\u5730\u5340"]),value:Number(n[t].replace("%",""))}}),function(n){return 100-n.value})},J=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(f.a)(this,(n=Object(d.a)(t)).call.apply(n,[this].concat(r)))).state={results:[],resultRights:[],ready:!1},e.onYesClick=function(){var n=e.props.data,t=_(n,"\u6709\u6548\u540c\u610f\u7968\u6578\u5c0d\u6295\u7968\u6b0a\u4eba\u6578\u767e\u5206\u6bd4(%)");e.setState({results:B.take(t,10),resultRights:B.takeRight(t,10)},function(){Y(t,D.scaleLinear().domain([0,B.max(B.map(t,"value"))]).range(["#FFFFFF","#73B07B"]))})},e.onNoClick=function(){var n=e.props.data,t=_(n,"\u6709\u6548\u4e0d\u540c\u610f\u7968\u6578\u5c0d\u6295\u7968\u6b0a\u4eba\u6578\u767e\u5206\u6bd4(%)");e.setState({results:B.take(t,10),resultRights:B.takeRight(t,10)},function(){Y(t,D.scaleLinear().domain([0,B.max(B.map(t,"value"))]).range(["#FFFFFF","#E78B93"]))})},e.onDiffClick=function(){var n=e.props.data,t=_(n,"\u6709\u6548\u540c\u610f\u8207\u4e0d\u540c\u610f\u7968\u6578\u5c0d\u6295\u7968\u6b0a\u4eba\u6578\u767e\u5206\u6bd4(%)\u5dee\u503c");e.setState({results:B.take(t,10),resultRights:B.takeRight(t,10)},function(){Y(t,D.scaleLinear().domain([20,-20]).range(["#3A8441","#DC3280"]))})},e}return Object(m.a)(t,n),Object(p.a)(t,[{key:"componentDidMount",value:function(){var n=Object(u.a)(l.a.mark(function n(){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(g.a.map){n.next=4;break}return n.next=3,D.json("./taiwan.json");case 3:g.a.map=n.sent;case 4:this.setState({ready:!0});case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.state,t=n.results,e=n.resultRights;return n.ready?r.a.createElement("div",null,r.a.createElement(M,null,"\u6b65\u9a5f\u4e8c\uff1a\u8acb\u9078\u64c7\u8981\u67e5\u770b \u540c\u610f\u7968 \u6216 \u4e0d\u540c\u610f\u7968"),r.a.createElement(P,null,r.a.createElement("button",{onClick:this.onYesClick},"\u540c\u610f\u7968"),r.a.createElement("button",{onClick:this.onNoClick},"\u4e0d\u540c\u610f\u7968"),r.a.createElement("button",{onClick:this.onDiffClick},"\u540c\u610f\u8207\u4e0d\u540c\u610f\u5dee\u503c")),r.a.createElement("canvas",{id:"map",width:"960",height:"600"}),t.length>0&&r.a.createElement(T,null,r.a.createElement(W,null,r.a.createElement(L,null,"\u524d 10 \u540d\u6392\u5e8f"),r.a.createElement("div",null,B.map(t,function(n){var t=n.key,e=n.value;return r.a.createElement("div",{key:t},t," ",e)}))),r.a.createElement(W,null,r.a.createElement(L,null,"\u5f8c 10 \u540d\u6392\u5e8f"),r.a.createElement("div",null,B.map(e,function(n){var t=n.key,e=n.value;return r.a.createElement("div",{key:t},t," ",e)}))))):r.a.createElement(M,null,"\u5730\u5716\u8f09\u5165\u4e2d\uff0c\u8acb\u7a0d\u5019...")}}]),t}(r.a.Component);function I(){var n=Object(v.a)(["\n  font-size: 0.5em;\n  margin: 0 0 0 3px;\n\n  & a {\n    color: #202020;\n  }\n"]);return I=function(){return n},n}function K(){var n=Object(v.a)(["\n  width: 100%;\n  font-size: 1.5em;\n  position: absolute;\n  left: 0;\n  top: 0;\n"]);return K=function(){return n},n}function U(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n  height: 40px;\n"]);return U=function(){return n},n}function V(){var n=Object(v.a)([";\n  width: 100%;\n  max-width: 768px;\n  margin: 0 auto;\n"]);return V=function(){return n},n}J.defaultProps={data:[]};var $=g.a.d3,q=h.a.div(V()),G=h.a.div(U()),H=h.a.div(K()),Q=h.a.div(I()),X=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(f.a)(this,(n=Object(d.a)(t)).call.apply(n,[this].concat(r)))).state={title:"",data:[]},e.onChangeCase=function(){var n=Object(u.a)(l.a.mark(function n(t,a){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a<0)){n.next=3;break}return e.setState({title:t,data:[]}),n.abrupt("return");case 3:return n.next=5,$.csv("./data/".concat(a+7,".csv"));case 5:delete(r=n.sent).columns,e.setState({title:t,data:r});case 8:case"end":return n.stop()}},n,this)}));return function(t,e){return n.apply(this,arguments)}}(),e}return Object(m.a)(t,n),Object(p.a)(t,[{key:"render",value:function(){var n=this.state,t=n.title,e=n.data;return r.a.createElement(q,null,r.a.createElement(G,null,r.a.createElement(H,null,"2018 \u516c\u6295\u7d50\u679c\u8cc7\u6599\u8996\u89ba\u5316"),r.a.createElement(Q,null,"\u5c08\u6848\uff1a",r.a.createElement("a",{href:"https://g0v.tw/"},"\u96f6\u6642\u653f\u5e9c g0v.tw")," \u5354\u4f5c"),r.a.createElement(Q,null,"\u8cc7\u6599\u4f86\u6e90\uff1a",r.a.createElement("a",{href:"http://referendum.2018.nat.gov.tw/pc/zh_TW/00/00000000000000000.html"},"\u4e2d\u9078\u6703"))),r.a.createElement(F,{title:t,onClick:this.onChangeCase}),e.length>0&&r.a.createElement(J,{data:e,onClick:function(){}}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.544213cb.chunk.js.map